(function(){this.ScriptLoader=function(){function t(){}return t.lazyLoad=function(t,e,n){var r;return r=document.querySelector("."+e),null!=r?n():(r=document.createElement("script"),r.async=!0,r.onload=n,r.src=t,r.className=e,void document.getElementsByTagName("head")[0].appendChild(r))},t}()}).call(this),function(){var t;this.AmazonPayments={metadataTag:function(){return document.getElementById("amazon-payments-metadata")},metadata:function(t){return AmazonPayments.metadataTag().getAttribute("data-amazon-payments-"+t)},withinFlow:function(){return null!=AmazonPayments.metadataTag()},sellerId:function(){return AmazonPayments.metadata("seller-id")},authorize:function(){var t,e;return t=AmazonPayments.metadata("callback-url"),e={popup:!1,scope:"payments:widget payments:shipping_address"},amazon.Login.authorize(e,t)}},t=function(){function t(){}return t.prototype.assign=function(t){return this.flow=this[t]},t.prototype.execute=function(t){return this.flow.call(this,t)},t.prototype.checkout=function(t){return AmazonPayments.authorize()},t.prototype.cart=function(t){var e;return e=document.createElement("input"),e.type="hidden",e.name="goto_amazon_payments",e.value="amazon_payments",t.parentElement.appendChild(e),e.form.submit()},t}(),this.amazonPaymentsButtonHandler=new t,this.AmazonPaymentsPayButton=function(){var t,e;if(AmazonPayments.withinFlow())return e=AmazonPayments.metadata("widget-library-url"),t="amazon-payments-widget-library",ScriptLoader.lazyLoad(e,t,function(){var t,e,n,r,i;for(e=document.getElementsByClassName("amazon-payments-pay-button"),i=[],n=0,r=e.length;r>n;n++)t=e[n],"true"!==t.getAttribute("data-amazon-payments-pay-button")&&(OffAmazonPayments.Button(t.id,AmazonPayments.sellerId(),{type:"PwA",size:"small",authorization:function(){return amazonPaymentsButtonHandler.execute(t)},onError:function(t){return"undefined"!=typeof console&&null!==console?console.error(t.getErrorCode()+": "+t.getErrorMessage()):void 0}}),i.push(t.setAttribute("data-amazon-payments-pay-button","true")));return i})}}.call(this);