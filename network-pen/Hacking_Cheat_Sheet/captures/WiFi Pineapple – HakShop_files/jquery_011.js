function floatToString(t,r){var e=t.toFixed(r).toString();return e.match(/^\.\d+/)?"0"+e:e}function attributeToString(t){return"string"!=typeof t&&(t+="","undefined"===t&&(t="")),jQuery.trim(t)}"undefined"==typeof SpurShopify&&(SpurShopify={}),SpurShopify.money_format="${{amount}}",SpurShopify.onError=function(XMLHttpRequest,textStatus){var data=eval("("+XMLHttpRequest.responseText+")");alert(data.message?data.message+"("+data.status+"): "+data.description:"Error : "+SpurShopify.fullMessagesFromErrors(data).join("; ")+".")},SpurShopify.fullMessagesFromErrors=function(t){var r=[];return jQuery.each(t,function(t,e){jQuery.each(e,function(e,o){r.push(t+" "+o)})}),r},SpurShopify.onCartUpdate=function(t){alert("There are now "+t.item_count+" items in the cart.")},SpurShopify.onCartShippingRatesUpdate=function(t,r){var e="";r.zip&&(e+=r.zip+", "),r.province&&(e+=r.province+", "),e+=r.country,alert("There are "+t.length+" shipping rates available for "+e+", starting at "+SpurShopify.formatMoney(t[0].price)+".")},SpurShopify.onItemAdded=function(t){alert(t.title+" was added to your shopping cart.")},SpurShopify.onProduct=function(t){alert("Received everything we ever wanted to know about "+t.title)},SpurShopify.formatMoney=function(t,r){function e(t,r){return"undefined"==typeof t?r:t}function o(t,r,o,n){if(r=e(r,2),o=e(o,","),n=e(n,"."),isNaN(t)||null==t)return 0;t=(t/100).toFixed(r);var a=t.split("."),i=a[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+o),u=a[1]?n+a[1]:"";return i+u}"string"==typeof t&&(t=t.replace(".",""));var n="",a=/\{\{\s*(\w+)\s*\}\}/,i=r||this.money_format;switch(i.match(a)[1]){case"amount":n=o(t,2);break;case"amount_no_decimals":n=o(t,0);break;case"amount_with_comma_separator":n=o(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=o(t,0,".",",")}return i.replace(a,n)},SpurShopify.resizeImage=function(t,r){try{if("original"==r)return t;var e=t.match(/(.*\/[\w\-\_\.]+)\.(\w{2,4})/);return e[1]+"_"+r+"."+e[2]}catch(o){return t}},SpurShopify.addItem=function(t,r,e){var r=r||1,o={type:"POST",url:"/cart/add.js",data:"quantity="+r+"&id="+t,dataType:"json",success:function(t){"function"==typeof e?e(t):SpurShopify.onItemAdded(t)},error:function(t,r){SpurShopify.onError(t,r)}};jQuery.ajax(o)},SpurShopify.addItemFromForm=function(t,r){var e={type:"POST",url:"/cart/add.js",data:jQuery("#"+t).serialize(),dataType:"json",success:function(t){"function"==typeof r?r(t):SpurShopify.onItemAdded(t)},error:function(t,r){SpurShopify.onError(t,r)}};jQuery.ajax(e)},SpurShopify.getCart=function(t){jQuery.getJSON("/cart.js",function(r){"function"==typeof t?t(r):SpurShopify.onCartUpdate(r)})},SpurShopify.pollForCartShippingRatesForDestination=function(t,r,e){e=e||SpurShopify.onError;var o=function(){jQuery.ajax("/cart/async_shipping_rates",{dataType:"json",success:function(e,n,a){200===a.status?"function"==typeof r?r(e.shipping_rates,t):SpurShopify.onCartShippingRatesUpdate(e.shipping_rates,t):setTimeout(o,500)},error:e})};return o},SpurShopify.getCartShippingRatesForDestination=function(t,r,e){e=e||SpurShopify.onError;var o={type:"POST",url:"/cart/prepare_shipping_rates",data:SpurShopify.param({shipping_address:t}),success:SpurShopify.pollForCartShippingRatesForDestination(t,r,e),error:e};jQuery.ajax(o)},SpurShopify.getProduct=function(t,r){jQuery.getJSON("/products/"+t+".js",function(t){"function"==typeof r?r(t):SpurShopify.onProduct(t)})},SpurShopify.changeItem=function(t,r,e){var o={type:"POST",url:"/cart/change.js",data:"quantity="+r+"&id="+t,dataType:"json",success:function(t){"function"==typeof e?e(t):SpurShopify.onCartUpdate(t)},error:function(t,r){SpurShopify.onError(t,r)}};jQuery.ajax(o)},SpurShopify.removeItem=function(t,r){var e={type:"POST",url:"/cart/change.js",data:"quantity=0&id="+t,dataType:"json",success:function(t){"function"==typeof r?r(t):SpurShopify.onCartUpdate(t)},error:function(t,r){SpurShopify.onError(t,r)}};jQuery.ajax(e)},SpurShopify.clear=function(t){var r={type:"POST",url:"/cart/clear.js",data:"",dataType:"json",success:function(r){"function"==typeof t?t(r):SpurShopify.onCartUpdate(r)},error:function(t,r){SpurShopify.onError(t,r)}};jQuery.ajax(r)},SpurShopify.updateCartFromForm=function(t,r){var e={type:"POST",url:"/cart/update.js",data:jQuery("#"+t).serialize(),dataType:"json",success:function(t){"function"==typeof r?r(t):SpurShopify.onCartUpdate(t)},error:function(t,r){SpurShopify.onError(t,r)}};jQuery.ajax(e)},SpurShopify.updateCartAttributes=function(t,r){var e="";jQuery.isArray(t)?jQuery.each(t,function(t,r){var o=attributeToString(r.key);""!==o&&(e+="attributes["+o+"]="+attributeToString(r.value)+"&")}):"object"==typeof t&&null!==t&&jQuery.each(t,function(t,r){e+="attributes["+attributeToString(t)+"]="+attributeToString(r)+"&"});var o={type:"POST",url:"/cart/update.js",data:e,dataType:"json",success:function(t){"function"==typeof r?r(t):SpurShopify.onCartUpdate(t)},error:function(t,r){SpurShopify.onError(t,r)}};jQuery.ajax(o)},SpurShopify.updateCartNote=function(t,r){var e={type:"POST",url:"/cart/update.js",data:"note="+attributeToString(t),dataType:"json",success:function(t){"function"==typeof r?r(t):SpurShopify.onCartUpdate(t)},error:function(t,r){SpurShopify.onError(t,r)}};jQuery.ajax(e)},jQuery.fn.jquery>="1.4"?SpurShopify.param=jQuery.param:(SpurShopify.param=function(t){var r=[],e=function(t,e){e=jQuery.isFunction(e)?e():e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(jQuery.isArray(t)||t.jquery)jQuery.each(t,function(){e(this.name,this.value)});else for(var o in t)SpurShopify.buildParams(o,t[o],e);return r.join("&").replace(/%20/g,"+")},SpurShopify.buildParams=function(t,r,e){jQuery.isArray(r)&&r.length?jQuery.each(r,function(r,o){rbracket.test(t)?e(t,o):SpurShopify.buildParams(t+"["+("object"==typeof o||jQuery.isArray(o)?r:"")+"]",o,e)}):null!=r&&"object"==typeof r?SpurShopify.isEmptyObject(r)?e(t,""):jQuery.each(r,function(r,o){SpurShopify.buildParams(t+"["+r+"]",o,e)}):e(t,r)},SpurShopify.isEmptyObject=function(t){for(var r in t)return!1;return!0});